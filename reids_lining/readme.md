# redis原理解析

### 一、基本数据结构

    1 简单动态字符串（SDS：simple dynamic string）
    2 链表
    3 字典
    4 跳跃表
    5 整数集合
    6 压缩列表
    7 对象（5种数据结构、内存回收、对象共享）

### 二、单机数据库

    1 数据库
    2 RDB 持久化
    3 AOF 持久化
    4 事件
    5 客户端
    6 服务器

### 三、多机数据库

    1 复制（主从复制）
    2 哨兵（sentinel）
    3 集群（cluster）

### 四、独立功能

    1 订阅和发布功能
    2 事物操作
    3 lua脚本支持
    4 排序
    5 二进制位数组
    6 慢查询日志
    7 监视器

***

### 订阅和发布功能

1. 频道和模式

***

### 事务

1. 四大原则
    - 原子性（atomic）要么执行所有的操作，要么就一个操作也不执行
    - 一致性（consistency）数据库在执行事物之前是一致的，在执行事物之后也是一致的
    - 隔离性（Isolation）不同事务之间不会产生相互影响
    - 持久性（durability） 在RDB或AOF模式下才具有此特性

2. 基础命令
    - MULT、EXEC、WATCH（监视某个健）

***

### 二进制位数组

1. 基础命令
    - SETBIT、GETBIT、BITCOUNT、BITOP

2. BITCOUNT的三种实现
    - 遍历
    - 查表法
    - swar方法
    - redis中采用第二种和第三种组合的方式来实现

***





